{"version":3,"sources":["Photo.js","Header.js","App.js","index.js"],"names":["Photo","download_url","author","className","src","alt","Header","Fragment","class","App","useState","loading","setLoading","photos","setPhotos","page","setPage","fetchImages","a","urlPage","url","fetch","response","json","data","oldPhotos","console","log","useEffect","event","window","addEventListener","innerHeight","scrollY","document","body","scrollHeight","oldPage","removeEventListener","map","image","index","ReactDOM","render","StrictMode","getElementById"],"mappings":"iPAUeA,EARD,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,aAAcC,EAAa,EAAbA,OAC7B,OACE,yBAASC,UAAU,QAAnB,SACE,qBAAKC,IAAKH,EAAcI,IAAG,aAAQH,QCoB1BI,EAvBA,WACb,OACE,eAAC,IAAMC,SAAP,WACE,kCACE,yBAAQJ,UAAU,SAAlB,UACE,qBAAKA,UAAU,OAAf,qBACA,qBAAKA,UAAU,QAAf,SACE,2DAIN,kCACE,qBAAKK,MAAM,OAAX,SACE,qBACEJ,IAAI,mKACJC,IAAI,iBCkDDI,MA7Df,WAAgB,IAAD,EACiBC,oBAAS,GAD1B,mBACNC,EADM,KACGC,EADH,OAEeF,mBAAS,IAFxB,mBAENG,EAFM,KAEEC,EAFF,OAGWJ,mBAAS,GAHpB,mBAGNK,EAHM,KAGAC,EAHA,KAKPC,EAAW,uCAAG,kCAAAC,EAAA,6DAClBN,GAAW,GAELO,EAHY,gBAGOJ,GAHP,YAKlBK,EAAG,UAZM,kCAYN,OAAgBD,GAAhB,OALe,+BAOOE,MAAMD,GAPb,cAOVE,EAPU,iBAQGA,EAASC,OARZ,QAQVC,EARU,OAUhBV,GAAU,SAACW,GACT,MAAM,GAAN,mBAAWA,GAAX,YAAyBD,OAG3BZ,GAAW,GAdK,kDAgBhBc,QAAQC,IAAR,MACAf,GAAW,GAjBK,0DAAH,qDAyCjB,OApBAgB,qBAAU,WACRX,MAEC,CAACF,IAEJa,qBAAU,WACR,IAAMC,EAAQC,OAAOC,iBAAiB,UAAU,aAE1CpB,GAAWmB,OAAOE,YAAcF,OAAOG,UACzCC,SAASC,KAAKC,aAAe,GAE7BpB,GAAQ,SAACqB,GACP,OAAOA,EAAU,QAIvB,OAAO,kBAAMP,OAAOQ,oBAAoB,SAAUT,MAEjD,IAGD,iCACE,cAAC,EAAD,IACA,0BAAS1B,UAAU,SAAnB,UACE,qBAAKA,UAAU,gBAAf,SACGU,EAAO0B,KAAI,SAACC,EAAOC,GAClB,OAAO,cAAC,EAAD,eAAuBD,GAAXC,QAGtB9B,GAAW,oBAAIR,UAAU,UAAd,+BCxDpBuC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFV,SAASW,eAAe,W","file":"static/js/main.6e1850fe.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Photo = ({ download_url, author }) => {\n  return (\n    <article className=\"photo\">\n      <img src={download_url} alt={`by ${author}`} />\n    </article>\n  );\n};\n\nexport default Photo;\n","import React from \"react\";\n\nconst Header = () => {\n  return (\n    <React.Fragment>\n      <section>\n        <header className=\"header\">\n          <div className=\"logo\">Gallery</div>\n          <div className=\"title\">\n            <div>By Mohamed Jubair</div>\n          </div>\n        </header>\n      </section>\n      <section>\n        <div class=\"hero\">\n          <img\n            src=\"https://images.unsplash.com/photo-1606661247834-eb1f16814366?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80\"\n            alt=\"hero\"\n          ></img>\n        </div>\n      </section>\n    </React.Fragment>\n  );\n};\n\nexport default Header;\n","import React, { useState, useEffect } from \"react\";\nimport Photo from \"./Photo\";\nimport Header from \"./Header\";\n\nconst mainUrl = `https://picsum.photos/v2/list?`;\n\nfunction App() {\n  const [loading, setLoading] = useState(false);\n  const [photos, setPhotos] = useState([]);\n  const [page, setPage] = useState(1);\n\n  const fetchImages = async () => {\n    setLoading(true);\n    let url;\n    const urlPage = `&page=${page}`;\n    const urlLimit = `&limit=10`;\n    url = `${mainUrl}${urlPage}${urlLimit}`;\n    try {\n      const response = await fetch(url);\n      const data = await response.json();\n\n      setPhotos((oldPhotos) => {\n        return [...oldPhotos, ...data];\n      });\n\n      setLoading(false);\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchImages();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [page]);\n\n  useEffect(() => {\n    const event = window.addEventListener(\"scroll\", () => {\n      if (\n        (!loading && window.innerHeight + window.scrollY) >=\n        document.body.scrollHeight - 2\n      ) {\n        setPage((oldPage) => {\n          return oldPage + 1;\n        });\n      }\n    });\n    return () => window.removeEventListener(\"scroll\", event);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <main>\n      <Header></Header>\n      <section className=\"photos\">\n        <div className=\"photos-center\">\n          {photos.map((image, index) => {\n            return <Photo key={index} {...image} />;\n          })}\n        </div>\n        {loading && <h2 className=\"loading\">Loading...</h2>}\n      </section>\n    </main>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}